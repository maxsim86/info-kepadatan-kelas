<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Result</title>
</head>
<body>
    <h1>Quiz Result</h1>

    <h2>Quiz Total Score: {{ quiz_total_score }}</h2>

    <h3>User Responses:</h3>
    <ul>
        {% for user_response in user_responses %}
            <li>
                <strong>User:</strong> {{ user_response.user.username }} <br>
                <strong>Question:</strong> {{ user_response.question.text }} <br>
                <strong>Selected Choice:</strong> {{ user_response.selected_choice.text }} <br>
                <strong>Score:</strong> {{ user_response.selected_choice.score }}
            </li>
        {% endfor %}
    </ul>

    <h3>Count Per Question:</h3>
    <ul>
        {% for question_number, choices in count_per_question.items %}
            <li>
                <strong>Question {{ question_number }}:</strong>
                <ul>
                    {% for choice in choices %}
                        <li>{{ choice.selected_choice.text }} - {{ choice.total }}</li>
                    {% endfor %}
                </ul>
            </li>
        {% endfor %}
    </ul>
</body>
</html>

